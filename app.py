import streamlit as st

st.set_page_config(page_title="ูุญุงูุฑ", page_icon="๐ฌ", layout="centered")

st.title("๐ฌ ูุญุงูุฑ - ูุณุงุนุฏู ุงูุฐูู ูู ููู ูุชูุตูู ุงูุฑุณุงุฆู")

st.markdown("ุงุจุฏุฃ ุจุงูุฅุฌุงุจุฉ ุนูู ุงูุฃุณุฆูุฉ ุงูุชุงููุฉ ูุชุญุฏูุฏ ููุท ุดุฎุตูุชู ูู ุงูุชูุงุตูุ ุซู ุฃุถู ุฑุณุงูุฉ ุงููุฏูุฑ ูุณูุชู ุฅุนุงุฏุฉ ุตูุงุบุชูุง ุจูุง ูุชูุงุณุจ ูุนู.")

# ุงูุฃุณุฆูุฉ
q1 = st.radio("1. ููู ุชูุถู ุฃู ุชูุนุทู ูู ุงูููุงูุ", ["ูุจุงุดุฑุฉ ููุงุถุญุฉ", "ุจุดุฑุญ ูุชูุตูู", "ุจูุบุฉ ูุงุฏุฆุฉ ูุชุญููุฒูุฉ"])
q2 = st.radio("2. ุฅุฐุง ุชุฃุฎุฑุช ูู ูููุฉุ ููู ุชูุถู ุฃู ูุชู ุชุฐููุฑูุ", ["ุจุชูุจูู ูุจุงุดุฑ", "ุจุดุฑุญ ุฃุซุฑ ุงูุชุฃุฎูุฑ", "ุจุฃุณููุจ ุฏุงุนู ููุญูุฒ"])
q3 = st.radio("3. ููู ุชุชุฎุฐ ูุฑุงุฑุงุชูุ", ["ุจุณุฑุนุฉ ููุถูุญ", "ุจุนุฏ ุชูููุฑ ูุชุญููู", "ุญุณุจ ุงูุดุนูุฑ ูุงูุงูุทุจุงุน"])

# ุชุญุฏูุฏ ุงูููุท
if st.button("ุชุญุฏูุฏ ุดุฎุตูุชู"):
    scores = {"ุชูููุฐู": 0, "ุชุญูููู": 0, "ุนุงุทูู": 0}

    if q1 == "ูุจุงุดุฑุฉ ููุงุถุญุฉ": scores["ุชูููุฐู"] += 1
    elif q1 == "ุจุดุฑุญ ูุชูุตูู": scores["ุชุญูููู"] += 1
    else: scores["ุนุงุทูู"] += 1

    if q2 == "ุจุชูุจูู ูุจุงุดุฑ": scores["ุชูููุฐู"] += 1
    elif q2 == "ุจุดุฑุญ ุฃุซุฑ ุงูุชุฃุฎูุฑ": scores["ุชุญูููู"] += 1
    else: scores["ุนุงุทูู"] += 1

    if q3 == "ุจุณุฑุนุฉ ููุถูุญ": scores["ุชูููุฐู"] += 1
    elif q3 == "ุจุนุฏ ุชูููุฑ ูุชุญููู": scores["ุชุญูููู"] += 1
    else: scores["ุนุงุทูู"] += 1

    personality = max(scores, key=scores.get)
    st.success(f"๐ฏ ููุท ุดุฎุตูุชู ูู ุงูุชูุงุตู ูู: **{personality}**")
    st.session_state["personality"] = personality

# ุฅุนุงุฏุฉ ุงูุตูุงุบุฉ
if "personality" in st.session_state:
    st.markdown("---")
    st.subheader("โ๏ธ ุฅุนุงุฏุฉ ุตูุงุบุฉ ุฑุณุงูุฉ ุงููุฏูุฑ")

    message = st.text_area("ุฃุฏุฎู ุฑุณุงูุฉ ุงููุฏูุฑ ููุง")

    if st.button("ุฅุนุงุฏุฉ ุงูุตูุงุบุฉ ุญุณุจ ุดุฎุตูุชู"):
        personality = st.session_state["personality"]
        if personality == "ุชูููุฐู":
            rewritten = f"๐ {message.strip()}ุ ููุฑุฌู ุชูููุฐู ููุฑูุง."
        elif personality == "ุชุญูููู":
            rewritten = f"๐ {message.strip()}ุ ูุน ุดุฑุญ ุงูุชูุงุตูู ูุชุฃุซูุฑูุง ุนูู ุงูููุงู."
        else:
            rewritten = f"๐ {message.strip()}ุ ูุซู ุจู ูุจูุฏุฑุชู ุนูู ุฅูุฌุงุฒูุง ุจุฅุจุฏุงุน."

        st.write("### โ๏ธ ุงูุฑุณุงูุฉ ุงููุนุฏููุฉ:")
        st.info(rewritten)
